<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapache Gambling</title>
    <link rel="stylesheet" href="../CSS/EstiloRegister.css">
    <link rel="stylesheet" href="../CSS/EstiloInicio.css">
</head>

<body>
    <!-- Header -->
    <header>
        <!-- Barra de navegación -->
        <div class="barra-navegacion">
            <div class="logo-contenedor">
                <a href="../Index.html">
                    <img src="../Imagenes/Logo.png" alt="Logo Mapache" class="logo-imagen">
                </a>
                <div class="nombre-logo" id="casinoTitulo"></div> <!-- Título con efecto -->
            </div>
            <div class="menu">
                <a href="../Proyecto PIII.Navarro/Html/InicioSesion.html">
                    <button type="button">Inicia Sesion</button>
                </a>
                <a href="../Proyecto PIII.Navarro/Html/Register.html">
                    <button type="button">Registrarse</button>
                </a>
            </div>
        </div>
    </header>

    <!-- Main -->
    <main>
        <!-- Contenedor de fichas flotantes -->
        <div id="fichas"></div>

        <div class="barra-lateral">
            <ul>
                <li class="menu-desplegable">
                    <a href="#">Menú Principal</a>
                    <ul class="submenu">
                        <li><a href="#">Promociones</a></li>
                        <li><a href="#">Afiliado</a></li>
                        <li><a href="#">Club VIP</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Foro</a></li>
                        <li><a href="#">Patrocinios</a></li>
                        <li><a href="#">Juego Responsable</a></li>
                        <li><a href="#">Soporte en Vivo</a></li>
                        <li><a href="#">Idioma: Español</a></li>
                    </ul>
                </li>

                <li class="menu-desplegable">
                    <a href="#">Juegos</a>
                    <ul class="submenu">
                        <li><a href="#">Slots</a></li>
                        <li><a href="#">Ruleta</a></li>
                        <li><a href="#">Blackjack</a></li>
                        <li><a href="#">Póker</a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <!-- Contenido Principal -->
        <div class="contenido-principal">
            <div class="seccion-registro">
                <h1>Registro</h1>
                <form id="registroForm" action="#" method="post">
                    <div class="campo-formulario">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="campo-formulario">
                        <label for="username">Nombre de Usuario</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="campo-formulario">
                        <label for="password">Contraseña</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <div class="campo-formulario">
                        <label for="dob">Fecha de Nacimiento</label>
                        <input type="date" id="dob" name="dob" required>
                    </div>
                    <div class="campo-formulario">
                        <label for="phone">Teléfono</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="campo-formulario">
                        <button type="submit">Registrarse</button>
                    </div>
                    <!-- Mensaje de validación -->
                    <div id="formMessage" style="display:none;"></div>
                    <!-- Spinner de carga -->
                    <div id="loading" style="display:none;">Cargando...</div>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Mapache Gambling. Todos los derechos reservados.</p>
    </footer>

    <!-- Script para el menú desplegable, carrusel y validación -->
    <script>
        // Animación del título con efecto "typewriter"
        const tituloTexto = "Mapache Gambling";
        let index = 0;

        function escribirTitulo() {
            if (index < tituloTexto.length) {
                document.getElementById("casinoTitulo").innerHTML += tituloTexto.charAt(index);
                index++;
                setTimeout(escribirTitulo, 150);
            }
        }

        // Funcionalidad para el menú desplegable
        document.querySelectorAll('.menu-desplegable').forEach(function(menu) {
            menu.addEventListener('click', function() {
                this.classList.toggle('active');
            });
        });

        window.onload = function() {
            escribirTitulo();
        }

        // Validación y simulación de envío del formulario de registro
        document.getElementById("registroForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Evitar el envío tradicional

            var email = document.getElementById("email").value;
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;
            var dob = document.getElementById("dob").value;
            var phone = document.getElementById("phone").value;
            var formMessage = document.getElementById("formMessage");
            var loading = document.getElementById("loading");

            // Validación simple
            if (email === "" || username === "" || password === "" || dob === "" || phone === "") {
                formMessage.style.display = "block";
                formMessage.style.color = "red";
                formMessage.innerHTML = "Por favor, completa todos los campos requeridos.";
                return;
            }

            // Validación del formato de correo
            var emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
            if (!email.match(emailPattern)) {
                formMessage.style.display = "block";
                formMessage.style.color = "red";
                formMessage.innerHTML = "Por favor, ingresa un correo electrónico válido.";
                return;
            }

            // Mostrar spinner de carga
            loading.style.display = "block";

            // Simular envío con Fetch API
            setTimeout(function() {
                // Simulación de éxito o error
                loading.style.display = "none";
                formMessage.style.display = "block";
                formMessage.style.color = "green";
                formMessage.innerHTML = "¡Registro completado con éxito!";
                
                // Limpiar formulario
                document.getElementById("registroForm").reset();
            }, 2000); // Simula el tiempo de respuesta de 2 segundos
        });
    </script>
</body>

</html>
